<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Student Information</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="D:\xampp\htdocs\wpl\jquery.js"></script>
</head>

<body class="bg-light">

<div class="container mt-5">
    <h1 class="text-center mb-4">Student Information</h1>

    <form class="border rounded p-4 bg-white shadow-sm">
        <input type="hidden" id="index">

        <div class="mb-3">
            <label>Name:</label>
            <input type="text" id="name" class="form-control">
        </div>

        <div class="mb-3">
            <label>Email:</label>
            <input type="email" id="email" class="form-control">
        </div>

        <div class="mb-3">
            <label>Course:</label>
            <input type="text" id="course" class="form-control">
        </div>

        <input type="button" id="submit" value="Submit" class="btn btn-primary w-100">
    </form>

    <table class="table table-bordered mt-4 bg-white">
        <thead>
            <tr>
                <th>Name</th>
                <th>Email</th>
                <th>Course</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody id="data"></tbody>
    </table>
</div>

<script>
$(document).ready(function(){

    let students = [];

    function showData(){
        $("#data").html("");
        $.each(students, function(i, s){
            $("#data").append(
                "<tr>" +
                "<td>"+s.name+"</td>" +
                "<td>"+s.email+"</td>" +
                "<td>"+s.course+"</td>" +
                "<td>" +
                "<button class='btn btn-warning btn-sm edit' data-id='"+i+"'>Edit</button> " +
                "<button class='btn btn-danger btn-sm delete' data-id='"+i+"'>Delete</button>" +
                "</td>" +
                "</tr>"
            );
        });
    }

    $("#submit").click(function(){

        let name = $("#name").val();
        let email = $("#email").val();
        let course = $("#course").val();
        let index = $("#index").val();

        if(name=="" || email=="" || course==""){
            alert("Please fill all fields");
            return;
        }

        if(index == ""){
            students.push({ name:name, email:email, course:course });
        } else {
            students[index] = { name:name, email:email, course:course };
        }

        showData();
        $("form")[0].reset();
        $("#index").val("");
    });

    $(document).on("click",".edit",function(){
        let i = $(this).data("id");
        $("#name").val(students[i].name);
        $("#email").val(students[i].email);
        $("#course").val(students[i].course);
        $("#index").val(i);
    });

    $(document).on("click",".delete",function(){
        let i = $(this).data("id");
        students.splice(i,1);
        showData();
    });

});
</script>

</body>
</html>
